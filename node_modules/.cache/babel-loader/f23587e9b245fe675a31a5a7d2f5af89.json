{"remainingRequest":"C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\src\\store.js","dependencies":[{"path":"C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\src\\store.js","mtime":1580198540784},{"path":"C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _parseInt from \"C:\\\\Users\\\\Abhyu\\\\Desktop\\\\techStuff\\\\vkart-master\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-int\";\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"./axios-auth\";\nimport Gaxios from \"axios\";\nimport router from \"./router\";\nimport api_key from \"./api_key\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    idToken: null,\n    userId: null,\n    user: null,\n    color: \"blue-grey darken-2\",\n    key: null\n  },\n  // ### MUTATIONS ###\n  mutations: {\n    authUser: function authUser(state, userData) {\n      state.idToken = userData.token;\n      state.userId = userData.userId;\n    },\n    newUser: function newUser(state, userData) {\n      state.user = userData;\n    },\n    logOut: function logOut(state) {\n      state.idToken = null;\n      state.userId = null;\n      state.user = null;\n      localStorage.clear();\n      router.push(\"/\");\n    },\n    userName: function userName(state, username) {\n      state.user.username = username;\n    },\n    changeColor: function changeColor(state, color) {\n      state.color = color;\n    },\n    addKey: function addKey(state, Key) {\n      state.key = Key;\n    },\n    updateTotalCost: function updateTotalCost(state, price) {\n      state.user.totalCost += _parseInt(price);\n    },\n    addItemToKart: function addItemToKart(state, item) {\n      state.user.kart.push(item);\n    },\n    addItemToOrderhistory: function addItemToOrderhistory(state, item) {\n      state.user.orderHistory.push(item);\n    }\n  },\n  // ### ACTIONS ###\n  actions: {\n    signUp: function signUp(_ref, _ref2) {\n      var commit = _ref.commit,\n          dispatch = _ref.dispatch;\n      var authData = _ref2.formData,\n          cb = _ref2.cb;\n      var data = {\n        email: authData.email,\n        password: authData.password,\n        returnSecureToken: true\n      };\n      axios.post(\"/signupNewUser?key=\" + api_key.api_key, data).then(function (res) {\n        console.log(res);\n        localStorage.setItem(\"token\", res.data.idToken); // storing the token in browser data\n\n        localStorage.setItem(\"userId\", res.data.localId); // stroring userID in browser data\n\n        localStorage.setItem(\"username\", authData.username); // stroring username in browser data\n\n        console.log(authData.username);\n        commit(\"authUser\", {\n          token: res.data.idToken,\n          // idToken property of data object in firebase res object\n          userId: res.data.localId //user id by firebase respone .localId\n\n        });\n        dispatch(\"addUser\", authData);\n        cb();\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    },\n    login: function login(_ref3, _ref4) {\n      var commit = _ref3.commit,\n          dispatch = _ref3.dispatch;\n      var authData = _ref4.formData,\n          cb = _ref4.cb;\n      var user = authData.username;\n      var data = {\n        email: authData.email,\n        password: authData.password,\n        returnSecureToken: true\n      };\n      axios.post(\"/verifyPassword?key=\" + api_key.api_key, data).then(function (res) {\n        localStorage.setItem(\"token\", res.data.idToken); // storing the token in browser data\n\n        localStorage.setItem(\"userId\", res.data.localId); // stroring userID in browser data\n\n        localStorage.setItem(\"username\", user); // storing username\n\n        console.log(authData.username);\n        commit(\"authUser\", {\n          token: res.data.idToken,\n          // idToken property of data object in firebase res object\n          userId: res.data.localId //user id by firebase respone .localId\n\n        });\n        dispatch(\"loadUser\", authData.email);\n        cb();\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    },\n    addUser: function addUser(_ref5, userData) {\n      var commit = _ref5.commit,\n          state = _ref5.state;\n\n      if (!state.idToken) {\n        return;\n      }\n\n      Gaxios.post(\"/users.json\" + \"?auth=\" + state.idToken, userData) //token appended to the http request for auth\n      .then(function (res) {\n        console.log(res);\n        commit(\"addKey\", res.data.name);\n        commit(\"newUser\", userData);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    },\n    loadUser: function loadUser(_ref6, email) {\n      var commit = _ref6.commit,\n          state = _ref6.state;\n\n      if (!state.idToken) {\n        return;\n      }\n\n      Gaxios.get(\"/users.json\" + \"?auth=\" + state.idToken).then(function (res) {\n        console.log(res);\n        var data = res.data;\n\n        for (var key in data) {\n          var user = data[key];\n\n          if (user.email == email) {\n            commit(\"newUser\", user);\n            commit(\"addKey\", key);\n            break;\n          }\n        }\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    },\n    autoLogin: function autoLogin(_ref7) {\n      var commit = _ref7.commit;\n      var token = localStorage.getItem(\"token\");\n      var userId = localStorage.getItem(\"userId\");\n      var username = localStorage.getItem(\"username\");\n\n      if (!token) {\n        return;\n      } else {\n        commit(\"authUser\", {\n          token: token,\n          userId: userId\n        });\n        commit(\"userName\", username);\n      }\n    }\n  },\n  //GETTERS\n  getters: {\n    username: function username(state) {\n      if (state.user) {\n        return state.user.username;\n      } else {\n        return false;\n      }\n    },\n    avatar: function avatar(state) {\n      if (state.user) {\n        return state.user.avatar;\n      } else {\n        return \"https://exelord.com/ember-initials/images/default-d5f51047d8bd6327ec4a74361a7aae7f.jpg\";\n      }\n    },\n    color: function color(state) {\n      return state.color;\n    },\n    email: function email(state) {\n      if (state.user) {\n        return state.user.email;\n      } else {\n        return false;\n      }\n    },\n    key: function key(state) {\n      return state.key;\n    },\n    totalCost: function totalCost(state) {\n      if (state.user) {\n        return state.user.totalCost;\n      } else {\n        return false;\n      }\n    },\n    kartSize: function kartSize(state) {\n      if (state.user) {\n        return state.user.kart.length - 1;\n      } else {\n        return false;\n      }\n    }\n  }\n});",{"version":3,"sources":["C:\\Users\\Abhyu\\Desktop\\techStuff\\vkart-master\\src\\store.js"],"names":["Vue","Vuex","axios","Gaxios","router","api_key","use","Store","state","idToken","userId","user","color","key","mutations","authUser","userData","token","newUser","logOut","localStorage","clear","push","userName","username","changeColor","addKey","Key","updateTotalCost","price","totalCost","addItemToKart","item","kart","addItemToOrderhistory","orderHistory","actions","signUp","commit","dispatch","authData","formData","cb","data","email","password","returnSecureToken","post","then","res","console","log","setItem","localId","catch","error","login","addUser","name","loadUser","get","autoLogin","getItem","getters","avatar","kartSize","length"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"./axios-auth\";\nimport Gaxios from \"axios\";\nimport router from \"./router\";\nimport api_key from \"./api_key\"\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    idToken: null,\n    userId: null,\n    user: null,\n    color: \"blue-grey darken-2\",\n    key: null\n  },\n\n  // ### MUTATIONS ###\n\n  mutations: {\n    authUser(state, userData) {\n      state.idToken = userData.token;\n      state.userId = userData.userId;\n    },\n    newUser(state, userData) {\n      state.user = userData;\n    },\n    logOut(state) {\n      state.idToken = null;\n      state.userId = null;\n      state.user = null;\n      localStorage.clear();\n      router.push(\"/\");\n    },\n    userName(state, username) {\n      state.user.username = username;\n    },\n    changeColor(state, color) {\n      state.color = color;\n    },\n    addKey(state, Key) {\n      state.key = Key;\n    },\n    updateTotalCost(state, price) {\n      state.user.totalCost += parseInt(price);\n    },\n    addItemToKart(state, item) {\n      state.user.kart.push(item);\n    },\n    addItemToOrderhistory(state, item) {\n      state.user.orderHistory.push(item);\n    }\n  },\n\n  // ### ACTIONS ###\n\n  actions: {\n    signUp({ commit, dispatch }, { formData: authData, cb }) {\n      var data = {\n        email: authData.email,\n        password: authData.password,\n        returnSecureToken: true\n      };\n      axios\n        .post(\"/signupNewUser?key=\" + api_key.api_key, data)\n        .then(res => {\n          console.log(res);\n          localStorage.setItem(\"token\", res.data.idToken); // storing the token in browser data\n          localStorage.setItem(\"userId\", res.data.localId); // stroring userID in browser data\n          localStorage.setItem(\"username\", authData.username); // stroring username in browser data\n          console.log(authData.username);\n          commit(\"authUser\", {\n            token: res.data.idToken, // idToken property of data object in firebase res object\n            userId: res.data.localId //user id by firebase respone .localId\n          });\n          dispatch(\"addUser\", authData);\n          cb();\n        })\n        .catch(error => console.log(error));\n    },\n\n    login({ commit, dispatch }, { formData: authData, cb }) {\n      var user = authData.username;\n      var data = {\n        email: authData.email,\n        password: authData.password,\n        returnSecureToken: true\n      }\n    \n      axios\n        .post(\"/verifyPassword?key=\" + api_key.api_key, data)\n        .then(res => {\n          localStorage.setItem(\"token\", res.data.idToken); // storing the token in browser data\n          localStorage.setItem(\"userId\", res.data.localId); // stroring userID in browser data\n          localStorage.setItem(\"username\", user); // storing username\n          console.log(authData.username);\n          commit(\"authUser\", {\n            token: res.data.idToken, // idToken property of data object in firebase res object\n            userId: res.data.localId //user id by firebase respone .localId\n          });\n          dispatch(\"loadUser\", authData.email);\n          cb();\n        })\n        .catch(error => console.log(error));\n    },\n\n    addUser({ commit, state }, userData) {\n      if (!state.idToken) {\n        return;\n      }\n      Gaxios.post(\"/users.json\" + \"?auth=\" + state.idToken, userData) //token appended to the http request for auth\n        .then(res => {\n          console.log(res);\n          commit(\"addKey\", res.data.name);\n          commit(\"newUser\", userData);\n        })\n        .catch(error => console.log(error));\n    },\n\n    loadUser({ commit, state }, email) {\n      if (!state.idToken) {\n        return;\n      }\n      Gaxios.get(\"/users.json\" + \"?auth=\" + state.idToken)\n        .then(res => {\n          console.log(res);\n\n          const data = res.data;\n\n          for (let key in data) {\n            const user = data[key];\n\n            if (user.email == email) {\n              commit(\"newUser\", user);\n              commit(\"addKey\", key);\n              break;\n            }\n          }\n        })\n        .catch(error => console.log(error));\n    },\n\n    autoLogin({ commit }) {\n      const token = localStorage.getItem(\"token\");\n      const userId = localStorage.getItem(\"userId\");\n      const username = localStorage.getItem(\"username\");\n      if (!token) {\n        return;\n      } else {\n        commit(\"authUser\", {\n          token: token,\n          userId: userId\n        });\n        commit(\"userName\", username);\n      }\n    }\n  },\n\n  //GETTERS\n\n  getters: {\n    username(state) {\n      if (state.user) {\n        return state.user.username;\n      } else {\n        return false;\n      }\n    },\n    avatar(state) {\n      if (state.user) {\n        return state.user.avatar;\n      } else {\n        return \"https://exelord.com/ember-initials/images/default-d5f51047d8bd6327ec4a74361a7aae7f.jpg\";\n      }\n    },\n    color(state) {\n      return state.color;\n    },\n    email(state) {\n      if (state.user) {\n        return state.user.email;\n      } else {\n        return false;\n      }\n    },\n    key(state) {\n      return state.key;\n    },\n    totalCost(state) {\n      if (state.user) {\n        return state.user.totalCost;\n      } else {\n        return false;\n      }\n    },\n    kartSize(state) {\n      if (state.user) {\n        return state.user.kart.length - 1;\n      } else {\n        return false;\n      }\n    }\n  }\n});\n"]}]}